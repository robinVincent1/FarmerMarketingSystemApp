{% block content %}
<h2>My Accepted Transactions</h2>
<form method="post">
    {% csrf_token %}
    <!-- Loop through each transaction -->
    {% for transaction in transactions %}
    <div>
        <!-- Display transaction details -->
        <h3>Transaction ID: {{ transaction.id_transaction }} - Product: {{ transaction.id_request.id_product.product_name }}</h3>
        <p>Status: {{ transaction.id_request.request_status }}</p>
        <p>Volume: {{ transaction.volume }}</p>
        <p>Total Price: {{ transaction.total_price }}</p>
        <p>Transaction Date: {{ transaction.transaction_date }}</p>

        <!-- Input for product quality -->
        <label for="product_quality">Product Quality:</label>
        <input type="text" name="product_quality" value="{{ transaction.id_request.id_product.farmer_product.product_quality }}">
        
        <!-- Input for farm rating -->
        <label for="rating">Farm Rating:</label>
        <input type="number" step="0.1" name="rating" value="{{ transaction.id_request.rating }}">

        <!-- Hidden input to store transaction ID -->
        <input type="hidden" name="transaction_id" value="{{ transaction.pk }}">

        <!-- Submit button to update transaction details -->
        <button type="submit">Update</button>
    </div>
    {% endfor %}
</form>
{% endblock %}
